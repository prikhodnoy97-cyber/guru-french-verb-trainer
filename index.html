<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guru French Verb Trainer | Conjugation Game</title>
<meta name="description" content="Guru French Verb Trainer - Interactive game to practice French verbs in Present, Future and Passé Composé. Study Mode and Random Mode included.">
<link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicon.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
.nav-container{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 20px;
}

.logo-small{
  font-weight:600;
}

.burger{
  display:none;
  font-size:26px;
  cursor:pointer;
}

.nav-links{
  display:flex;
  gap:20px;
}

.nav-links a{
  color:white;
  text-decoration:none;
  transition:0.3s;
}

.nav-links a:hover{
  color:#00c6ff;
}

#answers{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:10px;
}
.top-nav{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(10px);
  padding:15px 0;
  text-align:center;
  z-index:1000;
}

.top-nav a{
  color:white;
  text-decoration:none;
  margin:0 20px;
  font-weight:500;
  transition:0.3s;
}

.top-nav a:hover{
  color:#00c6ff;
}

.main-logo{
  width:300px;   /* примерно в 2.5 раза больше */
  margin-bottom:20px;
  filter: drop-shadow(0 0 25px rgba(0,255,255,0.6));
  transition:0.3s;
}

.main-logo:hover{
  transform:scale(1.05);
}
body{
margin:0;
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#1f1c2c,#928dab);
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
color:white;
padding-top:80px;
}
.container{width:95%;max-width:850px}
.card{
background:rgba(255,255,255,0.08);
backdrop-filter:blur(16px);
border-radius:22px;
padding:40px;
box-shadow:0 20px 40px rgba(0,0,0,0.3);
text-align:center;
}
button{
padding:14px 22px;
margin:8px;
border:none;
border-radius:30px;
background:linear-gradient(45deg,#00c6ff,#0072ff);
color:white;
font-weight:500;
cursor:pointer;
transition:.25s;
}
button:hover{transform:translateY(-3px)}
.secondary{background:transparent;border:2px solid rgba(255,255,255,.4)}
.correct{background:linear-gradient(45deg,#00b09b,#96c93d)!important}
.wrong{background:linear-gradient(45deg,#ff416c,#ff4b2b)!important}
.hidden{display:none}
#question{font-size:1.7em;margin:25px 0}
.stats{margin-top:15px;opacity:.85}
.ad-box{margin-top:20px;padding:15px;background:rgba(0,0,0,.3);border-radius:15px;font-size:.9em;opacity:.7}
@media(max-width:600px){

.card{
  padding:25px;
}

#answers{
  grid-template-columns:repeat(2, 1fr);
}

#answers button{
  width:100%;
}

}
@media(max-width:768px){

.nav-links{
  display:none;
  flex-direction:column;
  position:absolute;
  top:60px;
  right:0;
  background:rgba(0,0,0,0.9);
  width:100%;
  text-align:center;
  padding:20px 0;
}

.nav-links.active{
  display:flex;
}

.burger{
  display:block;
}

}
.explanation{
  margin-top:10px;
  font-size:0.9em;
  opacity:0.8;
  min-height:20px;
}

</style>
</head>
<body>
<nav class="top-nav">
  <div class="nav-container">
    <div class="logo-small">Guru</div>

    <div class="burger" onclick="toggleMenu()">
      ☰
    </div>

    <div class="nav-links" id="navLinks">
      <a href="index.html">Home</a>
	  <a href="#" onclick="openTheory()">Theory</a>
      <a href="about.html">About</a>
      <a href="privacy.html">Privacy Policy</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</nav>

<div class="container">

<div class="card" id="home">
<img src="logo.png" alt="Guru French Verb Trainer Logo" class="main-logo">
<h1>Guru French Verb Trainer</h1>
<p>Pour parler couramment français,<br>il faut apprendre au moins 7 mots par jour.</p>

<h3>Select Tense</h3>
<button onclick="setTense('passe')">Passé Composé</button>
<button onclick="setTense('present')">Present</button>
<button onclick="setTense('future')">Future</button>
<button onclick="setTense('futurproche')">Futur Proche</button>

</div>

<div class="card hidden" id="groupSelect">
<h3>Select Verb Group</h3>
<button onclick="selectGroup(erVerbs)">-ER </button>
<button onclick="selectGroup(irVerbs)">-IR </button>
<br>
<button class="secondary" onclick="backHome()">⬅ Back</button>
</div>

<div class="card hidden" id="modeSelect">
<h3>Select Mode</h3>
<button onclick="setMode('study')">Study Mode</button>
<button onclick="setMode('random')">Random Mode</button>
<br>
<button class="secondary" onclick="backGroups()">⬅ Back</button>
</div>
<div class="card hidden" id="game">
  <h2 id="verbName"></h2>
  <p id="translations"></p>
  <div id="question"></div>
  <div id="explanation" class="explanation"></div>
  <div id="answers"></div>

  <div class="stats">
    Score: <span id="score">0</span> |
    Level: <span id="level">1</span> |
    Streak: <span id="streak">0</span>
  </div>

  <br>
  <button class="secondary" onclick="backMode()">⬅ Back</button>

  <div class="ad-box">
    Advertisement
  </div>
</div>  <!-- ← ВОТ ЗДЕСЬ ЗАКРЫВАЕМ GAME -->

<!-- А ВОТ ТЕПЕРЬ THEORY -->
<div class="card hidden" id="theoryPage">
  <h2>Verb Conjugation Tables</h2>

  <div id="verbList"></div>

  <div id="conjugationTable" style="margin-top:20px;"></div>

  <br>
  <button class="secondary" onclick="backFromTheory()">⬅ Back</button>
</div>


<div class="stats">
Score: <span id="score">0</span> |
Level: <span id="level">1</span> |
Streak: <span id="streak">0</span>
</div>

<br>
<button class="secondary" onclick="backMode()">⬅ Back</button>

<div class="ad-box">
Advertisement (Insert AdSense after approval)
</div>
</div>

</div>

<script>
let scoreEl, levelEl, streakEl;

window.onload = function(){
  scoreEl = document.getElementById("score");
  levelEl = document.getElementById("level");
  streakEl = document.getElementById("streak");
};
const pronounGroups = [
  { label: "Je", forms: ["je"] },
  { label: "Tu", forms: ["tu"] },
  { label: "Il/Elle/On", forms: ["il","elle","on"] },
  { label: "Nous", forms: ["nous"] },
  { label: "Vous", forms: ["vous"] },
  { label: "Ils/Elles", forms: ["ils","elles"] }
];

let currentTense="present";
let verbs=[];
let currentMode="study";
let currentVerb=null;
let currentPronoun=null;
let formIndex=0;
let shuffledForms=[];
let score=0,level=1,streak=0;

/* 25 ER */
const erVerbs = [
{fr:"parler",en:"to speak",ru:"говорить"},
{fr:"manger",en:"to eat",ru:"есть"},
{fr:"aimer",en:"to love",ru:"любить"},
{fr:"habiter",en:"to live",ru:"жить"},
{fr:"travailler",en:"to work",ru:"работать"},
{fr:"regarder",en:"to watch",ru:"смотреть"},
{fr:"écouter",en:"to listen",ru:"слушать"},
{fr:"chercher",en:"to search",ru:"искать"},
{fr:"trouver",en:"to find",ru:"находить"},
{fr:"donner",en:"to give",ru:"давать"},
{fr:"penser",en:"to think",ru:"думать"},
{fr:"arriver",en:"to arrive",ru:"приезжать"},
{fr:"demander",en:"to ask",ru:"спрашивать"},
{fr:"passer",en:"to pass",ru:"проходить"},
{fr:"rester",en:"to stay",ru:"оставаться"},
{fr:"porter",en:"to wear",ru:"носить"},
{fr:"montrer",en:"to show",ru:"показывать"},
{fr:"commencer",en:"to start",ru:"начинать"},
{fr:"appeler",en:"to call",ru:"звать"},
{fr:"jouer",en:"to play",ru:"играть"},
{fr:"acheter",en:"to buy",ru:"покупать"},
{fr:"aider",en:"to help",ru:"помогать"},
{fr:"utiliser",en:"to use",ru:"использовать"},
{fr:"essayer",en:"to try",ru:"пытаться"},
{fr:"changer",en:"to change",ru:"менять"},
{fr:"visiter",en:"to visit",ru:"посещать"},
{fr:"expliquer",en:"to explain",ru:"объяснять"},
{fr:"préparer",en:"to prepare",ru:"готовить"},
{fr:"décider",en:"to decide",ru:"решать"},
{fr:"rencontrer",en:"to meet",ru:"встречать"},
{fr:"attendre",en:"to wait",ru:"ждать"},
{fr:"espérer",en:"to hope",ru:"надеяться"},
{fr:"payer",en:"to pay",ru:"платить"},
{fr:"continuer",en:"to continue",ru:"продолжать"},
{fr:"oublier",en:"to forget",ru:"забывать"}
];

/* 25 IR */
const irVerbs=[{fr:"finir",en:"to finish",ru:"заканчивать"},
{fr:"réussir",en:"to succeed",ru:"преуспевать"},
{fr:"partir",en:"to leave",ru:"уезжать"},
{fr:"venir",en:"to come",ru:"приходить"},
{fr:"dormir",en:"to sleep",ru:"спать"},
{fr:"sortir",en:"to go out",ru:"выходить"},
{fr:"servir",en:"to serve",ru:"служить"},
{fr:"ouvrir",en:"to open",ru:"открывать"},
{fr:"offrir",en:"to offer",ru:"дарить"},
{fr:"réfléchir",en:"to reflect",ru:"размышлять"},
{fr:"sentir",en:"to feel",ru:"чувствовать"},
{fr:"devenir",en:"to become",ru:"становиться"},
{fr:"tenir",en:"to hold",ru:"держать"},
{fr:"courir",en:"to run",ru:"бежать"},
{fr:"remplir",en:"to fill",ru:"наполнять"},
{fr:"agir",en:"to act",ru:"действовать"},
{fr:"bâtir",en:"to build",ru:"строить"},
{fr:"obéir",en:"to obey",ru:"слушаться"},
{fr:"punir",en:"to punish",ru:"наказывать"},
{fr:"vieillir",en:"to age",ru:"стареть"},
{fr:"grandir",en:"to grow",ru:"расти"},
{fr:"grossir",en:"to gain weight",ru:"толстеть"},
{fr:"maigrir",en:"to lose weight",ru:"худеть"},
{fr:"rougir",en:"to blush",ru:"краснеть"},{fr:"applaudir",en:"to applaud",ru:"аплодировать"},
{fr:"réagir",en:"to react",ru:"реагировать"},
{fr:"avertir",en:"to warn",ru:"предупреждать"},
{fr:"guérir",en:"to heal",ru:"выздоравливать"},
{fr:"mentir",en:"to lie",ru:"лгать"},
{fr:"réunir",en:"to gather",ru:"собирать"},
{fr:"salir",en:"to dirty",ru:"пачкать"},
{fr:"ralentir",en:"to slow down",ru:"замедлять"},
{fr:"choisir",en:"to choose",ru:"выбирать"},
];
/*verb etre*/
const etreVerbs = [
"aller","venir","arriver","partir","entrer","rentrer",
"sortir","monter","descendre","naître","mourir",
"rester","devenir","revenir","tomber","retourner"
];

/* IRREGULAR */
const irregularVerbs = [
  {fr:"être", en:"to be", ru:"быть"},
  {fr:"avoir", en:"to have", ru:"иметь"}
];


/* Navigation */
function setTense(t){
currentTense=t;
home.classList.add("hidden");
groupSelect.classList.remove("hidden");
}
function backHome(){
groupSelect.classList.add("hidden");
home.classList.remove("hidden");
}
function selectGroup(group){
verbs=group;
groupSelect.classList.add("hidden");
modeSelect.classList.remove("hidden");
}
function backGroups(){
modeSelect.classList.add("hidden");
groupSelect.classList.remove("hidden");
}
function setMode(m){
currentMode=m;
modeSelect.classList.add("hidden");
game.classList.remove("hidden");
startGame();
}
function backMode(){
game.classList.add("hidden");
modeSelect.classList.remove("hidden");
}

/* Utils */
function shuffle(a){
for(let i=a.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[a[i],a[j]]=[a[j],a[i]];
}
return a;
}
function randomItem(a){return a[Math.floor(Math.random()*a.length)]}

/* Conjugation */
function conjugate(v,p){

  let stem=v.slice(0,-2);

  function getIndex(pronoun){
    if(["je"].includes(pronoun)) return 0;
    if(["tu"].includes(pronoun)) return 1;
    if(["il","elle","on"].includes(pronoun)) return 2;
    if(["nous"].includes(pronoun)) return 3;
    if(["vous"].includes(pronoun)) return 4;
    if(["ils","elles"].includes(pronoun)) return 5;
  }

  let i = getIndex(p);
  // IRREGULAR VERBS
if(v === "être"){
  const forms = {
    present: ["suis","es","est","sommes","êtes","sont"],
    future: ["serai","seras","sera","serons","serez","seront"],
    passe: ["ai été","as été","a été","avons été","avez été","ont été"],
    futurproche: ["vais être","vas être","va être","allons être","allez être","vont être"]
  };
  return forms[currentTense][i];
}

if(v === "avoir"){
  const forms = {
    present: ["ai","as","a","avons","avez","ont"],
    future: ["aurai","auras","aura","aurons","aurez","auront"],
    passe: ["ai eu","as eu","a eu","avons eu","avez eu","ont eu"],
    futurproche: ["vais avoir","vas avoir","va avoir","allons avoir","allez avoir","vont avoir"]
  };
  return forms[currentTense][i];
}


  if(currentTense==="present"){
    if(v.endsWith("er")) return stem+["e","es","e","ons","ez","ent"][i];
    if(v.endsWith("ir")) return stem+["is","is","it","issons","issez","issent"][i];
  }

  if(currentTense==="future"){
    return v+["ai","as","a","ons","ez","ont"][i];
  }

  if(currentTense==="passe"){

  let pp;

  if(v.endsWith("er")) pp = stem + "é";
  else if(v.endsWith("ir")) pp = stem + "i";
  else if(v.endsWith("re")) pp = stem.slice(0,-1) + "u";

  // глаголы с être
  if(etreVerbs.includes(v)){

    const etreForms = ["suis","es","est","sommes","êtes","sont"];

    // согласование (упрощённо — без рода)
    if(i === 3 || i === 4 || i === 5){
      pp += "s";
    }

    return etreForms[i] + " " + pp;

  } else {

    const avoirForms = ["ai","as","a","avons","avez","ont"];
    return avoirForms[i] + " " + pp;

  }
}


  if(currentTense==="futurproche"){
    const allerForms = ["vais","vas","va","allons","allez","vont"];
    return allerForms[i] + " " + v;
  }

}


/* Game */
function startGame(){
score=0;level=1;streak=0;
nextVerb();
}
function nextVerb(){
currentVerb=randomItem(verbs);
verbName.innerText=currentVerb.fr;
translations.innerText=currentVerb.en+" / "+currentVerb.ru;

if(currentMode==="study"){
shuffledForms = shuffle([
  "je","tu","il","nous","vous","ils"
]);
formIndex=0;
showForm();
}else{
nextRandom();
}
}
function showForm(){
let p=shuffledForms[formIndex];
currentPronoun=p;
question.innerText="___ "+conjugate(currentVerb.fr,p);
renderButtons();
}
function nextRandom(){
currentPronoun=randomItem(["je","tu","il","nous","vous","ils"]);
question.innerText="___ "+conjugate(currentVerb.fr,currentPronoun);
renderButtons();
}
function renderButtons(){
  answers.innerHTML="";

  pronounGroups.forEach(group=>{
    let b=document.createElement("button");
    b.innerText=group.label;
    b.onclick=()=>checkAnswer(group, b);
    answers.appendChild(b);
  });
}


function checkAnswer(group, btn){

  const correctForm = conjugate(currentVerb.fr, currentPronoun);
  const explanationBox = document.getElementById("explanation");
  const allButtons = document.querySelectorAll("#answers button");

  // Найти все группы, которые дают ту же форму глагола
  const correctGroups = pronounGroups.filter(g =>
    g.forms.some(pr => conjugate(currentVerb.fr, pr) === correctForm)
  );

  const isCorrect = correctGroups.includes(group);

  // Блокируем кнопки после выбора
  allButtons.forEach(b => b.disabled = true);

  if(isCorrect){

    btn.classList.add("correct");

    score += 10;
    streak++;

    if(score >= level * 300) level++;

    // Показываем объяснение ТОЛЬКО если вариантов больше одного
    if(correctGroups.length > 1){
      explanationBox.innerText =
        "These pronouns share the same verb form.";
    } else {
      explanationBox.innerText = "";
    }

  } else {

    btn.classList.add("wrong");

    // Подсветить ВСЕ правильные варианты
    allButtons.forEach(b=>{
      const g = pronounGroups.find(pg => pg.label === b.innerText);
      if(correctGroups.includes(g)){
        b.classList.add("correct");
      }
    });

    // Показываем объяснение ТОЛЬКО если вариантов больше одного
    if(correctGroups.length > 1){
      explanationBox.innerText =
        "These pronouns share the same verb form.";
    } else {
      explanationBox.innerText = "";
    }

    score -= 5;
    streak = 0;
  }

  updateStats();

  setTimeout(()=>{

    explanationBox.innerText = "";

    if(currentMode==="study"){
      formIndex++;
      if(formIndex>=6) nextVerb();
      else showForm();
    } else {
      nextRandom();
    }

  },1200);
}


function updateStats(){
scoreEl.innerText=score;
levelEl.innerText=level;
streakEl.innerText=streak;
}
function toggleMenu(){
  document.getElementById("navLinks").classList.toggle("active");
}
function openTheory(){
  home.classList.add("hidden");
  groupSelect.classList.add("hidden");
  modeSelect.classList.add("hidden");
  game.classList.add("hidden");

  theoryPage.classList.remove("hidden");

  renderVerbList();
}

function backFromTheory(){
  theoryPage.classList.add("hidden");
  home.classList.remove("hidden");
}
function renderVerbList(){

  const container = document.getElementById("verbList");
  container.innerHTML = "";

  const allVerbs = [...erVerbs, ...irVerbs,...irregularVerbs];

  allVerbs.forEach(v=>{
    const btn = document.createElement("button");
    btn.innerText = v.fr;

    // теперь не запускаем игру
    // а показываем таблицу
    btn.onclick = ()=> showConjugationTable(v);

    container.appendChild(btn);
  });
}



function showConjugationTable(verb){

  const table = document.getElementById("conjugationTable");
  const pronouns = ["je","tu","il","nous","vous","ils"];

  const tenses = [
    {key:"present", label:"Present"},
    {key:"future", label:"Future"},
    {key:"futurproche", label:"Futur Proche"},
    {key:"passe", label:"Passé Composé"}
  ];

  let html = "<h2>" + verb.fr + "</h2>";

  tenses.forEach(t=>{

    currentTense = t.key;

    html += `<h3 style="margin-top:30px;">${t.label}</h3>`;
    html += "<table style='width:100%;margin-top:10px;'>";

    pronouns.forEach(p=>{
      html += `
        <tr>
          <td style="padding:6px;">${p}</td>
          <td style="padding:6px;font-weight:bold;">
            ${conjugate(verb.fr, p)}
          </td>
        </tr>
      `;
    });

    html += "</table>";

    html += `
      <br>
      <button onclick="practiceSpecificTense('${t.key}')" class="secondary">
        Practice ${t.label}
      </button>
      <hr style="margin:30px 0;opacity:0.3;">
    `;
  });

  table.innerHTML = html;

  currentVerb = verb;
}
function practiceSpecificTense(tense){

  currentTense = tense;
  verbs = [currentVerb];

  theoryPage.classList.add("hidden");
  game.classList.remove("hidden");

  currentMode = "study";
  startGame();
}



</script>

</body>
</html>



